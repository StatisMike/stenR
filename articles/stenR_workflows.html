<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="stenR">
<!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light">
<script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/5/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>Procedural and Object-oriented workflows of stenR • stenR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Procedural and Object-oriented workflows of stenR">
<meta property="og:description" content="stenR">
<meta property="og:image" content="https://statismike.github.io/stenR/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/5/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/5/darkly/bootstrap.css" media="(prefers-color-scheme: dark)">
<!-- preferably CSS --><link rel="stylesheet" href="../preferably.css">
<link id="css-code-light" rel="stylesheet" href="../code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<link id="css-code-dark" rel="stylesheet" href="../code-color-scheme-dark.css" media="(prefers-color-scheme: dark)">
<script src="../darkswitch.js"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">stenR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.4</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/stenR_complete_tour.html">Complete tour from data to results</a>
    <a class="dropdown-item" href="../articles/stenR_workflows.html">Procedural and Object-oriented workflows of stenR</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li>
          <a class="external-link nav-link" id="css-toggle-btn" aria-label="github">
            <span class="fas fa fas fa-adjust fa-lg"></span>
          </a>
        </li>
        
        
        
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Procedural and Object-oriented workflows of stenR</h1>
            
      
      
      <div class="d-none name"><code>stenR_workflows.Rmd</code></div>
    </div>

    
    
<p><code>stenR</code> provides tools that can be used in fully procedural way, best known to most <code>R</code> users, as well as object-oriented way.</p>
<p>Both of these ways can be beneficial and useful on their own:</p>
<ul>
<li>procedural:
<ul>
<li>could be more handy for useRs not accustomed with <code>R6</code> classes</li>
<li>catered for one-offs: when you have gathered a lot of raw scores and there is a need to calculate score tables, standardize them</li>
</ul>
</li>
<li>object-oriented:
<ul>
<li>easily normalize multiple discrete numeric variables</li>
<li>catered for inter-session continuity: automatically append new standardized values to already computed score tables</li>
</ul>
</li>
</ul>
<div class="section level2">
<h2 id="procedural-workflow-for-using-stenr-functionality">Procedural workflow for using stenR functionality<a class="anchor" aria-label="anchor" href="#procedural-workflow-for-using-stenr-functionality"></a>
</h2>
<p><code>stenR</code> currently is based on few <code>S3</code> classes and can be used in purely procedural workflow, which will be described below. Exemplary data provided with package will be used:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://statismike.github.io/stenR/">stenR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># data gathered in Polish sample - 204 summed results of HEXACO-60 questionnaires</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">HEXACO_60</span><span class="op">)</span></span>
<span><span class="co">#&gt; 'data.frame':    204 obs. of  9 variables:</span></span>
<span><span class="co">#&gt;  $ user_id: chr  "neutral_peregrinefalcon" "trapeziform_zebradove" "polyhedral_solenodon" "decrepit_norwayrat" ...</span></span>
<span><span class="co">#&gt;  $ sex    : chr  "F" "F" "F" "F" ...</span></span>
<span><span class="co">#&gt;  $ age    : int  26 24 26 25 31 25 62 19 24 26 ...</span></span>
<span><span class="co">#&gt;  $ HEX_H  : int  42 38 18 21 32 34 37 39 41 30 ...</span></span>
<span><span class="co">#&gt;  $ HEX_E  : int  33 31 17 24 35 30 37 13 33 24 ...</span></span>
<span><span class="co">#&gt;  $ HEX_X  : int  34 36 16 29 24 34 39 27 23 34 ...</span></span>
<span><span class="co">#&gt;  $ HEX_A  : int  36 44 42 22 31 34 23 27 15 21 ...</span></span>
<span><span class="co">#&gt;  $ HEX_C  : int  36 36 35 43 34 28 41 19 49 38 ...</span></span>
<span><span class="co">#&gt;  $ HEX_O  : int  31 28 37 47 28 39 44 42 22 38 ...</span></span></code></pre></div>
<div class="section level3">
<h3 id="create-a-frequency-table-object-on-basis-of-some-variable">1. Create a Frequency Table object on basis of some variable<a class="anchor" aria-label="anchor" href="#create-a-frequency-table-object-on-basis-of-some-variable"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">HEX_H_ft</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/FrequencyTable.html">FrequencyTable</a></span><span class="op">(</span><span class="va">HEXACO_60</span><span class="op">$</span><span class="va">HEX_H</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> There are missing raw score values between minimum and maximum raw scores.</span></span>
<span><span class="co">#&gt;   They have been filled automatically.</span></span>
<span><span class="co">#&gt;   No. missing: 4/37 [10.81%]</span></span>
<span><span class="va">HEX_H_ft</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB;">&lt;FrequencyTable&gt;</span> computed on <span style="color: #0000BB;">204</span> observations</span></span>
<span><span class="co">#&gt; computed on <span style="color: #0000BB;">204</span> observations</span></span>
<span><span class="co">#&gt; range: <span style="font-style: italic;">incomplete</span></span></span></code></pre></div>
<p>Generated warning tells us that there were some raw scores between <code><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min()</a></code> and <code><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max()</a></code> values that weren’t represented in the sample. We can see that was the case for a few scores:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">HEX_H_ft</span><span class="op">$</span><span class="va">table</span><span class="op">$</span><span class="va">n</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1]  4  9 34 35</span></span></code></pre></div>
<p>We can also see it while plotting the resulting <em>FrequencyTable</em>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">HEX_H_ft</span><span class="op">)</span></span></code></pre></div>
<p><img src="stenR_workflows_files/figure-html/FrequencyTable_plot-1.png" width="576" style="display: block; margin: auto;"></p>
<p>By the rule of thumb: the more possible values the raw scores can get and the smaller your data, the bigger possibility for this to happen. If you feel that your sample was representative, you can ignore it. It is recommended though to get more varied, greater number of observations when getting this warning.</p>
</div>
<div class="section level3">
<h3 id="generate-scoretable-using-frequencytable">2. Generate ScoreTable using FrequencyTable<a class="anchor" aria-label="anchor" href="#generate-scoretable-using-frequencytable"></a>
</h3>
<p><em>FrequencyTable</em> is a basis for normalizing the distribution of your data. Now, the next step is to standardize it using some <em>StandardScale</em> and generating <em>ScoreTable</em>.</p>
<p>There are some <em>StandardScale</em> objects available in the package. They define score scale. We can use the popular in psychology <strong>STEN</strong> scale to calculate the scores.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># check out the scale definition</span></span>
<span><span class="va">STEN</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB;">&lt;StandardScale&gt;</span>: <span style="font-style: italic;">sten</span></span></span>
<span><span class="co">#&gt; `M`: 5.5 `SD`: 2 `min` 1: `max`: 10</span></span>
<span><span class="co"># see its distribution graphically</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">STEN</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Computation failed in `stat_function()`:</span></span>
<span><span class="co">#&gt; $ operator is invalid for atomic vectors</span></span>
<span><span class="co">#&gt; Computation failed in `stat_function()`:</span></span>
<span><span class="co">#&gt; $ operator is invalid for atomic vectors</span></span>
<span><span class="co">#&gt; Computation failed in `stat_function()`:</span></span>
<span><span class="co">#&gt; $ operator is invalid for atomic vectors</span></span></code></pre></div>
<p><img src="stenR_workflows_files/figure-html/STEN_scale-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Now, we can generate the ScoreTable using our FrequencyTable and scale of our choosing.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">HEX_H_st</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ScoreTable.html">ScoreTable</a></span><span class="op">(</span><span class="va">HEX_H_ft</span>, <span class="va">STEN</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">HEX_H_st</span><span class="op">)</span></span></code></pre></div>
<p><img src="stenR_workflows_files/figure-html/ScoreTable-1.png" width="576" style="display: block; margin: auto;"></p>
<p>We can see that the shape of the generated distribution is similar to the distribution associated with the <em>StandardScale</em>. It is a good sign: number of values of raw scores is appropriate for the chosen scale. In contrast, we can see that the <strong>TANINE</strong> scale would be an ill choice:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/ScoreTable.html">ScoreTable</a></span><span class="op">(</span><span class="va">HEX_H_ft</span>, <span class="va">TANINE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="stenR_workflows_files/figure-html/HEXACO_tanine-1.png" width="576" style="display: block; margin: auto;"></p>
<p>You can also define your own <em>StandardScale</em> object using the <code>StandardScale</code> function.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_scale</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/StandardScale.html">StandardScale</a></span><span class="op">(</span><span class="st">"my_scale"</span>, <span class="fl">10</span>, <span class="fl">3</span>, <span class="fl">0</span>, <span class="fl">20</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># let's see if everything is correct</span></span>
<span><span class="va">new_scale</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB;">&lt;StandardScale&gt;</span>: <span style="font-style: italic;">my_scale</span></span></span>
<span><span class="co">#&gt; `M`: 10 `SD`: 3 `min` 0: `max`: 20</span></span>
<span></span>
<span><span class="co"># how does its distribution looks like?</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">new_scale</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Computation failed in `stat_function()`:</span></span>
<span><span class="co">#&gt; $ operator is invalid for atomic vectors</span></span>
<span><span class="co">#&gt; Computation failed in `stat_function()`:</span></span>
<span><span class="co">#&gt; $ operator is invalid for atomic vectors</span></span>
<span><span class="co">#&gt; Computation failed in `stat_function()`:</span></span>
<span><span class="co">#&gt; $ operator is invalid for atomic vectors</span></span></code></pre></div>
<p><img src="stenR_workflows_files/figure-html/StandardScale-1.png" width="576" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="calculate-score-for-the-new-results">3. Calculate score for the new results<a class="anchor" aria-label="anchor" href="#calculate-score-for-the-new-results"></a>
</h3>
<p>Now, if we have our <em>ScoreTable</em> created, we can use it to standardize some scores! We will do it for some randomly generated ones using <code><a href="../reference/normalize_score.html">normalize_score()</a></code> function:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">2137</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># generate some random raw scores of valid values</span></span>
<span><span class="va">raw_scores</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span>, min <span class="op">=</span> <span class="fl">10</span>, max <span class="op">=</span> <span class="fl">50</span><span class="op">)</span>, <span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">raw_scores</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] 19 12 14 45 20 22 30 39 33 23</span></span>
<span></span>
<span><span class="co"># and now - get the 'STEN' values!</span></span>
<span><span class="fu"><a href="../reference/normalize_score.html">normalize_score</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">raw_scores</span>,</span>
<span>  table <span class="op">=</span> <span class="va">HEX_H_st</span>,</span>
<span>  what <span class="op">=</span> <span class="st">"sten"</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] 2 1 1 9 2 2 4 7 5 3</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="object-oriented-workflow">Object oriented workflow<a class="anchor" aria-label="anchor" href="#object-oriented-workflow"></a>
</h2>
<p>In addition to procedural workflow described above, there is also an <code>R6</code> class definition prepared to handle the creation of <em>ScoreTables</em> and generation of normalized scores: <em>CompScoreTable</em>.</p>
<p>There is one useful feature of this object, mainly the ability to automatically recalculate <em>ScoreTables</em> based on raw score values calculated using the <code>standardize</code> method. It can be helpful for inter-session continuity.</p>
<div class="section level3">
<h3 id="initialize-the-object">1. Initialize the object<a class="anchor" aria-label="anchor" href="#initialize-the-object"></a>
</h3>
<p>During object initialization you can attach some previously calculated <em>FrequencyTables</em> and/or <em>StandardScales</em>. It is fully optional, as it can also be done afterwards.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># attach during initialization</span></span>
<span><span class="va">HexCST</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/CompScoreTable.html">CompScoreTable</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  tables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>HEX_H <span class="op">=</span> <span class="va">HEX_H_ft</span><span class="op">)</span>,</span>
<span>  scales <span class="op">=</span> <span class="va">STEN</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># attach later</span></span>
<span><span class="va">altCST</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/CompScoreTable.html">CompScoreTable</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">altCST</span><span class="op">$</span><span class="fu">attach_FrequencyTable</span><span class="op">(</span><span class="va">HEX_H_ft</span>, <span class="st">"HEX_H"</span><span class="op">)</span></span>
<span><span class="va">altCST</span><span class="op">$</span><span class="fu">attach_StandardScale</span><span class="op">(</span><span class="va">STEN</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># there are no visible differences in objects structure</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">HexCST</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB;">&lt;CompScoreTable&gt;</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Attached </span><span style="color: #0000BB; font-weight: bold;">&lt;ScoreTable&gt;</span></span></span>
<span><span class="co">#&gt;  variable   n      range</span></span>
<span><span class="co">#&gt;     HEX_H 204 incomplete</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Attached </span><span style="color: #0000BB; font-weight: bold;">&lt;StandardScale&gt;</span></span></span>
<span><span class="co">#&gt;  name   M SD min max</span></span>
<span><span class="co">#&gt;  sten 5.5  2   1  10</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">altCST</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB;">&lt;CompScoreTable&gt;</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Attached </span><span style="color: #0000BB; font-weight: bold;">&lt;ScoreTable&gt;</span></span></span>
<span><span class="co">#&gt;  variable   n      range</span></span>
<span><span class="co">#&gt;     HEX_H 204 incomplete</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Attached </span><span style="color: #0000BB; font-weight: bold;">&lt;StandardScale&gt;</span></span></span>
<span><span class="co">#&gt;  name   M SD min max</span></span>
<span><span class="co">#&gt;  sten 5.5  2   1  10</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="expand-compscoretable">2. Expand <em>CompScoreTable</em><a class="anchor" aria-label="anchor" href="#expand-compscoretable"></a>
</h3>
<p>After creation the object can be expanded with more <em>FrequencyTables</em> and <em>StandardScales.</em> All <em>ScoreTables</em> will be internally recalculated</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># add new FrequencyTable</span></span>
<span><span class="va">HexCST</span><span class="op">$</span><span class="fu">attach_FrequencyTable</span><span class="op">(</span><span class="fu"><a href="../reference/FrequencyTable.html">FrequencyTable</a></span><span class="op">(</span><span class="va">HEXACO_60</span><span class="op">$</span><span class="va">HEX_C</span><span class="op">)</span>, <span class="st">"HEX_C"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">HexCST</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB;">&lt;CompScoreTable&gt;</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Attached </span><span style="color: #0000BB; font-weight: bold;">&lt;ScoreTable&gt;</span></span></span>
<span><span class="co">#&gt;  variable   n      range</span></span>
<span><span class="co">#&gt;     HEX_H 204 incomplete</span></span>
<span><span class="co">#&gt;     HEX_C 204   complete</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Attached </span><span style="color: #0000BB; font-weight: bold;">&lt;StandardScale&gt;</span></span></span>
<span><span class="co">#&gt;  name   M SD min max</span></span>
<span><span class="co">#&gt;  sten 5.5  2   1  10</span></span>
<span></span>
<span><span class="co"># add new StandardScale</span></span>
<span><span class="va">HexCST</span><span class="op">$</span><span class="fu">attach_StandardScale</span><span class="op">(</span><span class="va">STANINE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">HexCST</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB;">&lt;CompScoreTable&gt;</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Attached </span><span style="color: #0000BB; font-weight: bold;">&lt;ScoreTable&gt;</span></span></span>
<span><span class="co">#&gt;  variable   n      range</span></span>
<span><span class="co">#&gt;     HEX_H 204 incomplete</span></span>
<span><span class="co">#&gt;     HEX_C 204   complete</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Attached </span><span style="color: #0000BB; font-weight: bold;">&lt;StandardScale&gt;</span></span></span>
<span><span class="co">#&gt;     name   M SD min max</span></span>
<span><span class="co">#&gt;     sten 5.5  2   1  10</span></span>
<span><span class="co">#&gt;  stanine 5.0  2   1   9</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="a--standardize-scores">3a. Standardize scores<a class="anchor" aria-label="anchor" href="#a--standardize-scores"></a>
</h3>
<p>After the object is ready, the score standardization may begin. Let’s feed it some raw scores!</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># standardize the Honesty-Humility and Consciousness</span></span>
<span><span class="va">HexCST</span><span class="op">$</span><span class="fu">standardize</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">HEXACO_60</span><span class="op">)</span>,</span>
<span>  what <span class="op">=</span> <span class="st">"sten"</span>,</span>
<span>  vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEX_H"</span>, <span class="st">"HEX_C"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt;                   user_id sex age HEX_H HEX_E HEX_X HEX_A HEX_C HEX_O</span></span>
<span><span class="co">#&gt; 1 neutral_peregrinefalcon   F  26     8    33    34    36     6    31</span></span>
<span><span class="co">#&gt; 2   trapeziform_zebradove   F  24     7    31    36    44     6    28</span></span>
<span><span class="co">#&gt; 3    polyhedral_solenodon   F  26     2    17    16    42     5    37</span></span>
<span><span class="co">#&gt; 4      decrepit_norwayrat   F  25     2    24    29    22     8    47</span></span>
<span><span class="co">#&gt; 5          unawake_wisent   F  31     5    35    24    31     5    28</span></span>
<span><span class="co">#&gt; 6   turophilic_spreadwing   M  25     5    30    34    34     3    39</span></span>
<span></span>
<span><span class="co"># you can also do this easily with pipes!</span></span>
<span><span class="va">HEXACO_60</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEX_H"</span>, <span class="st">"HEX_C"</span><span class="op">)</span><span class="op">]</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># no need to specify 'vars', as the correct columns are already selected</span></span>
<span>  <span class="va">HexCST</span><span class="op">$</span><span class="fu">standardize</span><span class="op">(</span><span class="st">"sten"</span><span class="op">)</span></span>
<span><span class="co">#&gt;   HEX_H HEX_C</span></span>
<span><span class="co">#&gt; 1     8     6</span></span>
<span><span class="co">#&gt; 2     7     6</span></span>
<span><span class="co">#&gt; 3     2     5</span></span>
<span><span class="co">#&gt; 4     2     8</span></span>
<span><span class="co">#&gt; 5     5     5</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="b--automatically-recalculate-scoretables">3b. Automatically recalculate ScoreTables<a class="anchor" aria-label="anchor" href="#b--automatically-recalculate-scoretables"></a>
</h3>
<p>During score standardization, you can also automatically add new raw scores to existing frequencies and recalculate the <em>ScoreTables</em> automatically.</p>
<p>It is done before returning the values, so they will be based on the most recent ScoreTables.</p>
<blockquote>
<p>You can actually use <code>standardize()</code> with <code>calc = TRUE</code> just after attaching the scale or scales. <em>ScoreTables</em> will be generated automatically before the data standardization - so you will receive both the data and computed <em>ScoreTables</em></p>
</blockquote>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># check the current state of the object</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">HexCST</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB;">&lt;CompScoreTable&gt;</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Attached </span><span style="color: #0000BB; font-weight: bold;">&lt;ScoreTable&gt;</span></span></span>
<span><span class="co">#&gt;  variable   n      range</span></span>
<span><span class="co">#&gt;     HEX_H 204 incomplete</span></span>
<span><span class="co">#&gt;     HEX_C 204   complete</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Attached </span><span style="color: #0000BB; font-weight: bold;">&lt;StandardScale&gt;</span></span></span>
<span><span class="co">#&gt;     name   M SD min max</span></span>
<span><span class="co">#&gt;     sten 5.5  2   1  10</span></span>
<span><span class="co">#&gt;  stanine 5.0  2   1   9</span></span>
<span></span>
<span><span class="co"># now, standardize and recalculate!</span></span>
<span><span class="va">HEXACO_60</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HEX_H"</span>, <span class="st">"HEX_C"</span><span class="op">)</span><span class="op">]</span> <span class="op">|&gt;</span></span>
<span>  <span class="va">HexCST</span><span class="op">$</span><span class="fu">standardize</span><span class="op">(</span><span class="st">"sten"</span>, calc <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Non-integer values were coerced to integers.</span></span>
<span><span class="co">#&gt; Non-integer values were coerced to integers.</span></span>
<span><span class="co">#&gt;   HEX_H HEX_C</span></span>
<span><span class="co">#&gt; 1     8     6</span></span>
<span><span class="co">#&gt; 2     7     6</span></span>
<span><span class="co">#&gt; 3     2     5</span></span>
<span><span class="co">#&gt; 4     2     8</span></span>
<span><span class="co">#&gt; 5     5     5</span></span>
<span></span>
<span><span class="co"># check the new state</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">HexCST</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #0000BB;">&lt;CompScoreTable&gt;</span></span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Attached </span><span style="color: #0000BB; font-weight: bold;">&lt;ScoreTable&gt;</span></span></span>
<span><span class="co">#&gt;  variable   n      range</span></span>
<span><span class="co">#&gt;     HEX_H 209 incomplete</span></span>
<span><span class="co">#&gt;     HEX_C 209   complete</span></span>
<span><span class="co">#&gt; <span style="font-weight: bold;">Attached </span><span style="color: #0000BB; font-weight: bold;">&lt;StandardScale&gt;</span></span></span>
<span><span class="co">#&gt;     name   M SD min max</span></span>
<span><span class="co">#&gt;     sten 5.5  2   1  10</span></span>
<span><span class="co">#&gt;  stanine 5.0  2   1   9</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="c--export-tables">3c. Export tables<a class="anchor" aria-label="anchor" href="#c--export-tables"></a>
</h3>
<p>There is also option to export the <em>ScoreTables</em> - either to use them later in procedural way or to create new <em>CompScoreTable</em> in another session - for this reason there is also option to export them as <em>FrequencyTables</em>!</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># export as ScoreTables</span></span>
<span><span class="va">st_list</span> <span class="op">&lt;-</span> <span class="va">HexCST</span><span class="op">$</span><span class="fu">export_ScoreTable</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">st_list</span><span class="op">)</span></span>
<span><span class="co">#&gt;       Length Class      Mode</span></span>
<span><span class="co">#&gt; HEX_H 3      ScoreTable list</span></span>
<span><span class="co">#&gt; HEX_C 3      ScoreTable list</span></span>
<span></span>
<span><span class="co"># export as FrequencyTables</span></span>
<span><span class="va">ft_list</span> <span class="op">&lt;-</span> <span class="va">HexCST</span><span class="op">$</span><span class="fu">export_ScoreTable</span><span class="op">(</span>strip <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">ft_list</span><span class="op">)</span></span>
<span><span class="co">#&gt;       Length Class          Mode</span></span>
<span><span class="co">#&gt; HEX_H 2      FrequencyTable list</span></span>
<span><span class="co">#&gt; HEX_C 2      FrequencyTable list</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="calculate-frequencytable-using-only-distribution-data">Calculate FrequencyTable using only distribution data<a class="anchor" aria-label="anchor" href="#calculate-frequencytable-using-only-distribution-data"></a>
</h2>
<p>Ideally, the normalization using <code>stenR</code> should be done only using raw, actual data. Unfortunately, it often can’t be accessed.</p>
<p>Alternatively, the articles specifying measurement construction often share the descriptive statistics of their own results. Using them we can create <em>Simulated</em> tables:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sim_ft</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/SimFrequencyTable.html">SimFrequencyTable</a></span><span class="op">(</span>min <span class="op">=</span> <span class="fl">10</span>, max <span class="op">=</span> <span class="fl">50</span>, M <span class="op">=</span> <span class="fl">31.04</span>, </span>
<span>                            SD <span class="op">=</span> <span class="fl">6.7</span>, skew <span class="op">=</span> <span class="op">-</span><span class="fl">0.3</span>, kurt <span class="op">=</span> <span class="fl">2.89</span>, seed <span class="op">=</span> <span class="fl">2678</span><span class="op">)</span></span>
<span><span class="co">#&gt; Constants: Distribution  1  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Constants calculation time: 0.004 minutes </span></span>
<span><span class="co">#&gt; Total Simulation time: 0.004 minutes</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">sim_ft</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "FrequencyTable" "Simulated"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">sim_ft</span><span class="op">)</span></span></code></pre></div>
<p><img src="stenR_workflows_files/figure-html/SimTables-1.png" width="576" style="display: block; margin: auto;"></p>
<p>The <em>Simulated</em> class will be inherited by <em>ScoreTable</em> object created on its basis.</p>
<p>Simulated tables can be used in every way that regular ones can be with one exception: if used to create <em>CompScoreTable</em> object, the raw scores cannot be appended to this kind of table in <code>standardize()</code> method.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">SimCST</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/CompScoreTable.html">CompScoreTable</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  tables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"simmed"</span> <span class="op">=</span> <span class="va">sim_ft</span><span class="op">)</span>,</span>
<span>  scales <span class="op">=</span> <span class="va">STEN</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">SimCST</span><span class="op">$</span><span class="fu">standardize</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>simmed <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">10</span>, <span class="fl">50</span><span class="op">)</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  what <span class="op">=</span> <span class="st">"sten"</span>,</span>
<span>  calc <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;"> in `private$merge_ft()`:</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> You can't add new raw values to <span style="font-weight: bold;">Simulated</span> <span style="color: #0000BB;">&lt;FrequencyTable&gt;</span>.</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="copyright">
  <p></p>
<p>Developed by Michal Kosinski.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5.</p>
  <p class="preferably">Using <a href="https://preferably.amirmasoudabdol.name/?source=footer" class="external-link">preferably</a> template.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
